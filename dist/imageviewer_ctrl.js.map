{"version":3,"sources":["../src/imageviewer_ctrl.js"],"names":["_","MetricsPanelCtrl","panelDefaults","imageURL","ImageViewerCtrl","$scope","$injector","defaults","panel","events","on","render","bind","onDataReceived","dataList","rows","scope","elem","attrs","ctrl","renderingCompleted","templateUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAOA,O;;AAELC,sB,kBAAAA,gB;;;;;;;;;;;;;;;;;;;;;AAGIC,mB,GAAgB;AACpBC,kBAAU;AADU,O;;iCAITC,e;;;AAGX,iCAAYC,MAAZ,EAAoBC,SAApB,EAA+B;AAAA;;AAAA,wIACvBD,MADuB,EACfC,SADe;;AAE7BN,YAAEO,QAAF,CAAW,MAAKC,KAAhB,EAAuBN,aAAvB;;AAEA,gBAAKO,MAAL,CAAYC,EAAZ,CAAe,mBAAf,EAAoC,MAAKC,MAAL,CAAYC,IAAZ,OAApC;AACA,gBAAKH,MAAL,CAAYC,EAAZ,CAAe,eAAf,EAAgC,MAAKG,cAAL,CAAoBD,IAApB,OAAhC;AACA,gBAAKH,MAAL,CAAYC,EAAZ,CAAe,oBAAf,EAAqC,MAAKG,cAAL,CAAoBD,IAApB,OAArC;AAN6B;AAO9B;;;;yCAEcE,Q,EAAU;AACvB;AACA,iBAAKN,KAAL,CAAWL,QAAX,GAAsBW,SAAS,CAAT,EAAYC,IAAZ,CAAiB,CAAjB,EAAoB,CAApB,CAAtB;AACA,iBAAKJ,MAAL;AACD;;;+BAEIK,K,EAAOC,I,EAAMC,K,EAAOC,I,EAAM;AAC7B,qBAASR,MAAT,GAAkB,CAAE;;AAEpB,iBAAKF,MAAL,CAAYC,EAAZ,CAAe,QAAf,EAAyB,YAAY;AACnCC;AACAQ,mBAAKC,kBAAL;AACD,aAHD;AAID;;;;QAzBkCnB,gB;;;;AA4BrCG,sBAAgBiB,WAAhB,GAA8B,aAA9B","file":"imageviewer_ctrl.js","sourcesContent":["import _ from 'lodash';\nimport {\n  MetricsPanelCtrl\n} from 'app/plugins/sdk';\n\nconst panelDefaults = {\n  imageURL: \"\"\n};\n\nexport class ImageViewerCtrl extends MetricsPanelCtrl {\n\n\n  constructor($scope, $injector) {\n    super($scope, $injector);\n    _.defaults(this.panel, panelDefaults);\n\n    this.events.on('panel-initialized', this.render.bind(this));\n    this.events.on('data-received', this.onDataReceived.bind(this));\n    this.events.on('data-snapshot-load', this.onDataReceived.bind(this));\n  }\n\n  onDataReceived(dataList) {\n    //this.panel.imageURL=dataList[0].datapoints[dataList[0].datapoints.length-1][0];\n    this.panel.imageURL = dataList[0].rows[0][0];\n    this.render();\n  }\n\n  link(scope, elem, attrs, ctrl) {\n    function render() {}\n\n    this.events.on('render', function () {\n      render();\n      ctrl.renderingCompleted();\n    });\n  }\n}\n\nImageViewerCtrl.templateUrl = 'module.html';"]}